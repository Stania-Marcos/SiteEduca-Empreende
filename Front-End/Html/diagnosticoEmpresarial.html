<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDUCA EMPREENDE - Diagnóstico Empresarial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <link rel="stylesheet" href="../Css/diagnosticoEmpresarial.css">
</head>
<body class="font-sans bg-gray-50">
    <!-- Diagnostic Section -->
    <section id="diagnostic" class="py-16 px-4">
        <div class="container mx-auto max-w-6xl">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 gradient-text">Simulador de Diagnóstico Empresarial</h2>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto">Avalie a saúde do seu negócio e receba recomendações personalizadas</p>
            </div>
            
            <!-- Progress Bar -->
            <div class="mb-8">
                <div class="flex justify-between mb-2">
                    <span class="text-sm font-medium text-gray-700">Progresso: <span id="progress-percentage">0</span>%</span>
                    <span class="text-sm font-medium text-gray-700">Seção <span id="current-section">1</span> de 05</span>
                </div>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>
            
            <!-- Diagnostic Form -->
            <form id="diagnostic-form" class="space-y-8">
                <!-- Section 1: Business Identification -->
                <div class="diagnostic-card p-6" data-section="1">
                    <div class="flex items-start mb-6">
                        <div class="section-indicator mr-4">1</div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-2">Identificação do Negócio</h3>
                            <p class="text-gray-600">Informações básicas sobre sua empresa</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Nome da empresa</label>
                            <input type="text" name="company-name" placeholder="Digite o nome da empresa" class="form-input" required>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Setor de atuação</label>
                            <select name="business-sector" class="form-input" required>
                                <option value="">Selecione o setor</option>
                                <option value="services">Serviços</option>
                                <option value="retail">Varejo</option>
                                <option value="manufacturing">Indústria</option>
                                <option value="technology">Tecnologia</option>
                                <option value="food">Alimentação</option>
                                <option value="health">Saúde</option>
                                <option value="education">Educação</option>
                                <option value="other">Outro</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Localização geográfica</label>
                            <input type="text" name="location" placeholder="Cidade, Província" class="form-input" required>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Tempo de operação</label>
                            <select name="operation-time" class="form-input" required>
                                <option value="">Selecione</option>
                                <option value="less-than-1">Menos de 1 ano</option>
                                <option value="1-3">1 a 3 anos</option>
                                <option value="3-5">3 a 5 anos</option>
                                <option value="5-10">5 a 10 anos</option>
                                <option value="more-than-10">Mais de 10 anos</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Número de colaboradores</label>
                            <select name="employees" class="form-input" required>
                                <option value="">Selecione</option>
                                <option value="1">Apenas o proprietário</option>
                                <option value="2-5">2 a 5</option>
                                <option value="6-10">6 a 10</option>
                                <option value="11-20">11 a 20</option>
                                <option value="21-50">21 a 50</option>
                                <option value="more-than-50">Mais de 50</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex justify-end mt-6">
                        <button type="button" class="next-section-btn submit-btn">
                            Próxima Seção <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Section 2: Legal Compliance -->
                <div class="diagnostic-card p-6 hidden" data-section="2">
                    <div class="flex items-start mb-6">
                        <div class="section-indicator mr-4">2</div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-2">Formalização e Conformidade Legal</h3>
                            <p class="text-gray-600">Avalie a situação legal da sua empresa</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">A empresa está formalmente registrada?</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="registered" value="yes" class="form-radio" required>
                                    <span class="ml-2">Sim</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="registered" value="no" class="form-radio">
                                    <span class="ml-2">Não</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="registered" value="process" class="form-radio">
                                    <span class="ml-2">Em processo</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Possui NIF (Número de Identificação Fiscal)?</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="has-nif" value="yes" class="form-radio" required>
                                    <span class="ml-2">Sim</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="has-nif" value="no" class="form-radio">
                                    <span class="ml-2">Não</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Possui todas as licenças necessárias para operar?</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="licenses" value="yes" class="form-radio" required>
                                    <span class="ml-2">Sim, todas</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="licenses" value="some" class="form-radio">
                                    <span class="ml-2">Algumas</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="licenses" value="no" class="form-radio">
                                    <span class="ml-2">Nenhuma</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="licenses" value="unknown" class="form-radio">
                                    <span class="ml-2">Não sei</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Está em dia com suas obrigações fiscais?</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="taxes" value="yes" class="form-radio" required>
                                    <span class="ml-2">Sim</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="taxes" value="no" class="form-radio">
                                    <span class="ml-2">Não</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="taxes" value="partial" class="form-radio">
                                    <span class="ml-2">Parcialmente</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button type="button" class="prev-section-btn px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50">
                            <i class="fas fa-arrow-left mr-2"></i> Seção Anterior
                        </button>
                        <button type="button" class="next-section-btn submit-btn">
                            Próxima Seção <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Section 3: SWOT Analysis -->
                <div class="diagnostic-card p-6 hidden" data-section="3">
                    <div class="flex items-start mb-6">
                        <div class="section-indicator mr-4">3</div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-2">Análise SWOT</h3>
                            <p class="text-gray-600">Identifique os pontos fortes, fracos, oportunidades e ameaças do seu negócio</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2 flex items-center">
                                <span class="swot-badge strengths-badge mr-2">Forças</span>
                                Pontos fortes que diferenciam a empresa
                            </label>
                            <textarea name="strengths" rows="4" placeholder="Ex: Equipe qualificada, localização privilegiada, produtos exclusivos..." class="form-input"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2 flex items-center">
                                <span class="swot-badge weaknesses-badge mr-2">Fraquezas</span>
                                Aspectos que precisam ser melhorados
                            </label>
                            <textarea name="weaknesses" rows="4" placeholder="Ex: Falta de capital, pouca visibilidade, dependência de poucos clientes..." class="form-input"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2 flex items-center">
                                <span class="swot-badge opportunities-badge mr-2">Oportunidades</span>
                                Oportunidades de mercado ainda não exploradas
                            </label>
                            <textarea name="opportunities" rows="4" placeholder="Ex: Mercado em crescimento, novas tecnologias, parcerias potenciais..." class="form-input"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2 flex items-center">
                                <span class="swot-badge threats-badge mr-2">Ameaças</span>
                                Fatores externos que podem afetar negativamente o negócio
                            </label>
                            <textarea name="threats" rows="4" placeholder="Ex: Concorrência acirrada, mudanças regulatórias, instabilidade econômica..." class="form-input"></textarea>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button type="button" class="prev-section-btn px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50">
                            <i class="fas fa-arrow-left mr-2"></i> Seção Anterior
                        </button>
                        <button type="button" class="next-section-btn submit-btn">
                            Próxima Seção <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Section 4: Business Model -->
                <div class="diagnostic-card p-6 hidden" data-section="4">
                    <div class="flex items-start mb-6">
                        <div class="section-indicator mr-4">4</div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-2">Modelo de Negócio e Operações</h3>
                            <p class="text-gray-600">Descreva como sua empresa cria, entrega e captura valor</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Proposta de valor: Qual é o diferencial da empresa no mercado?</label>
                            <textarea name="value-proposition" rows="3" placeholder="Ex: Oferecemos produtos artesanais de alta qualidade com ingredientes locais..." class="form-input"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Segmento de clientes: Quem são os principais clientes?</label>
                            <textarea name="customer-segments" rows="3" placeholder="Ex: Mulheres de 25-45 anos, classe média alta, que valorizam produtos naturais..." class="form-input"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Canais de distribuição: Como os produtos ou serviços chegam aos clientes?</label>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-2">
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="physical-store" class="form-checkbox">
                                    <span class="ml-2">Loja física</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="ecommerce" class="form-checkbox">
                                    <span class="ml-2">E-commerce</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="social-media" class="form-checkbox">
                                    <span class="ml-2">Redes sociais</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="third-party" class="form-checkbox">
                                    <span class="ml-2">Parceiros</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="direct-sales" class="form-checkbox">
                                    <span class="ml-2">Vendas diretas</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="wholesale" class="form-checkbox">
                                    <span class="ml-2">Atacado</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="other" class="form-checkbox">
                                    <span class="ml-2">Outros</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Relacionamento com clientes: Como a empresa mantém e desenvolve relacionamentos com seus clientes?</label>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-2">
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="Redes sociais" class="form-checkbox">
                                    <span class="ml-2">Redes sociais</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="Chamadas Telefonicas" class="form-checkbox">
                                    <span class="ml-2">Chamadas Telefonicas</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="Encontros Regulares" class="form-checkbox">
                                    <span class="ml-2">Encontros Regulares</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="channels[]" value="Outros" class="form-checkbox">
                                    <span class="ml-2">Outros</span>
                                </label>
                            </div>
                        </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Fontes de receita: Quais são as principais fontes de receita?</label>
                            <textarea name="revenue-streams" rows="3" placeholder="Ex: Venda de produtos, serviços premium, assinaturas..." class="form-input"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Estrutura de custos: Quais são os principais custos operacionais?</label>
                            <textarea name="cost-structure" rows="3" placeholder="Ex: Matéria-prima, salários, aluguel, marketing..." class="form-input"></textarea>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button type="button" class="prev-section-btn px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50">
                            <i class="fas fa-arrow-left mr-2"></i> Seção Anterior
                        </button>
                        <button type="button" class="next-section-btn submit-btn">
                            Próxima Seção <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Section 5: Financial Management -->
                <div class="diagnostic-card p-6 hidden" data-section="5">
                    <div class="flex items-start mb-6">
                        <div class="section-indicator mr-4">5</div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-2">Gestão Financeira</h3>
                            <p class="text-gray-600">Avalie a saúde financeira do seu negócio</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">A empresa utiliza algum sistema para controle financeiro?</label>
                            <div class="flex flex-wrap gap-4 mt-2">
                                <label class="inline-flex items-center">
                                <input type="radio" name="financial-system" value="software" class="form-radio">
                                <span class="ml-2">Software especializado</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="financial-system" value="spreadsheet" class="form-radio">
                                    <span class="ml-2">Planilhas</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="financial-system" value="manual" class="form-radio">
                                    <span class="ml-2">Controle manual</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="financial-system" value="none" class="form-radio">
                                    <span class="ml-2">Não tem controle</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Existe um controle eficaz do fluxo de caixa?</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                <input type="radio" name="cashflow-control" value="yes" class="form-radio" >
                                <span class="ml-2">Sim, completo</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="cashflow-control" value="partial" class="form-radio">
                                    <span class="ml-2">Parcial</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="cashflow-control" value="no" class="form-radio">
                                    <span class="ml-2">Não</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">A empresa possui dívidas? Se sim, quais?</label>
                            <textarea name="debts" rows="3" placeholder="Ex: Empréstimos bancários, fornecedores, financiamentos..." class="form-input" required></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Existe necessidade de capital adicional?</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                <input type="radio" name="additional-capital" value="yes" class="form-radio" >
                                <span class="ml-2">Sim, urgente</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="additional-capital" value="soon" class="form-radio">
                                    <span class="ml-2">Sim, em breve</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="additional-capital" value="no" class="form-radio">
                                    <span class="ml-2">Não</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button type="button" class="prev-section-btn px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50">
                            <i class="fas fa-arrow-left mr-2"></i> Seção Anterior
                        </button>
                        <button type="button" class=" enviar">
                            Finalizar <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </form>
            
            <!-- Results Modal -->
            <div id="results-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
                <div class="bg-white rounded-lg max-w-4xl w-full max-h-screen overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-2xl font-bold text-gray-800">Resultado do Diagnóstico Empresarial</h3>
                            <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <!-- Tabs Navigation -->
                        <div class="flex mb-1">
                            <div class="tab-button active mr-1" onclick="openResultsTab('executive-summary')">
                                <i class="fas fa-file-alt mr-2"></i> Resumo
                            </div>
                            <div class="tab-button inactive" onclick="openResultsTab('swot-analysis')">
                                <i class="fas fa-clipboard-list mr-2"></i> Análise SWOT
                            </div>
                            <div class="tab-button inactive" onclick="openResultsTab('recommendations')">
                                <i class="fas fa-lightbulb mr-2"></i> Recomendações
                            </div>
                            <div class="tab-button inactive" onclick="openResultsTab('action-plan')">
                                <i class="fas fa-tasks mr-2"></i> Plano de Ação
                            </div>
                            <div class="tab-button inactive" onclick="openResultsTab('educa-services')">
                                <i class="fas fa-hands-helping mr-2"></i> Serviços EDUCA
                            </div>
                        </div>
                        
                        <!-- Executive Summary Tab -->
                        <div id="executive-summary" class="tab-content active">
                            <div class="mb-6">
                                <h4 class="text-xl font-bold text-gray-800 mb-4">Resumo Executivo</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                                    <div class="kpi-card p-4">
                                        <div class="text-sm font-medium text-gray-500 mb-1">Setor</div>
                                        <div class="text-lg font-semibold" id="summary-sector">Serviços</div>
                                    </div>
                                    <div class="kpi-card p-4">
                                        <div class="text-sm font-medium text-gray-500 mb-1">Tempo de Operação</div>
                                        <div class="text-lg font-semibold" id="summary-time">3-5 anos</div>
                                    </div>
                                    <div class="kpi-card p-4">
                                        <div class="text-sm font-medium text-gray-500 mb-1">Colaboradores</div>
                                        <div class="text-lg font-semibold" id="summary-employees">6-10</div>
                                    </div>
                                </div>
                                
                                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-4">
                                    <div class="flex">
                                        <div class="flex-shrink-0">
                                            <i class="fas fa-check-circle text-blue-500"></i>
                                        </div>
                                        <div class="ml-3">
                                            <h4 class="text-sm font-medium text-blue-800">Pontos Fortes</h4>
                                            <div class="mt-1 text-sm text-blue-700" id="summary-strengths">
                                                <p>Localização privilegiada, equipe qualificada, produtos de alta qualidade.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-4">
                                    <div class="flex">
                                        <div class="flex-shrink-0">
                                            <i class="fas fa-exclamation-triangle text-yellow-500"></i>
                                        </div>
                                        <div class="ml-3">
                                            <h4 class="text-sm font-medium text-yellow-800">Áreas de Melhoria</h4>
                                            <div class="mt-1 text-sm text-yellow-700" id="summary-weaknesses">
                                                <p>Controle financeiro insuficiente, falta de presença digital, dependência de poucos clientes.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-green-50 border-l-4 border-green-500 p-4">
                                    <div class="flex">
                                        <div class="flex-shrink-0">
                                            <i class="fas fa-chart-line text-green-500"></i>
                                        </div>
                                        <div class="ml-3">
                                            <h4 class="text-sm font-medium text-green-800">Pontuação Geral</h4>
                                            <div class="mt-1">
                                                <div class="w-full bg-gray-200 rounded-full h-4">
                                                    <div id="overall-score-bar" class="h-4 rounded-full gradient-bg" style="width: 60%"></div>
                                                </div>
                                                <div class="mt-1 text-sm text-green-700" id="overall-score-text">
                                                    <span id="overall-score">60</span>/100 - Há espaço significativo para melhorias em várias áreas do negócio.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- SWOT Analysis Tab -->
                        <div id="swot-analysis" class="tab-content">
                            <div class="mb-6">
                                <h4 class="text-xl font-bold text-gray-800 mb-4">Análise SWOT Detalhada</h4>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="border border-green-200 rounded-lg p-4">
                                        <div class="flex items-center mb-3">
                                            <span class="swot-badge strengths-badge mr-2">Forças</span>
                                        </div>
                                        <ul class="list-disc pl-5 space-y-2 text-gray-700" id="detailed-strengths">
                                            <li>Equipe qualificada e comprometida</li>
                                            <li>Localização privilegiada no centro da cidade</li>
                                            <li>Produtos exclusivos com matéria-prima local</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="border border-red-200 rounded-lg p-4">
                                        <div class="flex items-center mb-3">
                                            <span class="swot-badge weaknesses-badge mr-2">Fraquezas</span>
                                        </div>
                                        <ul class="list-disc pl-5 space-y-2 text-gray-700" id="detailed-weaknesses">
                                            <li>Falta de controle financeiro detalhado</li>
                                            <li>Presença digital insuficiente</li>
                                            <li>Dependência de poucos clientes grandes</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="border border-blue-200 rounded-lg p-4">
                                        <div class="flex items-center mb-3">
                                            <span class="swot-badge opportunities-badge mr-2">Oportunidades</span>
                                        </div>
                                        <ul class="list-disc pl-5 space-y-2 text-gray-700" id="detailed-opportunities">
                                            <li>Crescimento do mercado de produtos artesanais</li>
                                            <li>Parcerias potenciais com hotéis e restaurantes</li>
                                            <li>Expansão para vendas online</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="border border-yellow-200 rounded-lg p-4">
                                        <div class="flex items-center mb-3">
                                            <span class="swot-badge threats-badge mr-2">Ameaças</span>
                                        </div>
                                        <ul class="list-disc pl-5 space-y-2 text-gray-700" id="detailed-threats">
                                            <li>Aumento da concorrência com grandes redes</li>
                                            <li>Variações no custo da matéria-prima</li>
                                            <li>Mudanças nos hábitos de consumo</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Recommendations Tab -->
                        
                        <!-- EDUCA Services Tab -->
                        <div id="educa-services" class="tab-content">
                            <div class="mb-6">
                                <h4 class="text-xl font-bold text-gray-800 mb-4">Serviços da EDUCA que Podem Ajudar</h4>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="border border-gray-200 rounded-lg p-6 hover:border-blue-500 transition">
                                        <div class="flex items-center mb-4">
                                            <div class="flex-shrink-0 bg-blue-100 p-3 rounded-lg">
                                                <i class="fas fa-calculator text-blue-500 text-xl"></i>
                                            </div>
                                            <h5 class="ml-3 text-lg font-medium">Consultoria Financeira</h5>
                                        </div>
                                        <p class="text-gray-600">Nossos especialistas ajudam a implementar controles financeiros e melhorar a gestão do seu fluxo de caixa.</p>
                                        <button class="mt-4 text-blue-600 font-medium">Saiba mais <i class="fas fa-arrow-right ml-1"></i></button>
                                    </div>
                                    
                                    <div class="border border-gray-200 rounded-lg p-6 hover:border-blue-500 transition">
                                        <div class="flex items-center mb-4">
                                            <div class="flex-shrink-0 bg-green-100 p-3 rounded-lg">
                                                <i class="fas fa-laptop-code text-green-500 text-xl"></i>
                                            </div>
                                            <h5 class="ml-3 text-lg font-medium">Desenvolvimento Web</h5>
                                        </div>
                                        <p class="text-gray-600">Crie um site profissional para seu negócio com nossa equipe especializada em desenvolvimento web.</p>
                                        <button class="mt-4 text-blue-600 font-medium">Saiba mais <i class="fas fa-arrow-right ml-1"></i></button>
                                    </div>
                                    
                                    <div class="border border-gray-200 rounded-lg p-6 hover:border-blue-500 transition">
                                        <div class="flex items-center mb-4">
                                            <div class="flex-shrink-0 bg-purple-100 p-3 rounded-lg">
                                                <i class="fas fa-bullhorn text-purple-500 text-xl"></i>
                                            </div>
                                            <h5 class="ml-3 text-lg font-medium">Marketing Digital</h5>
                                        </div>
                                        <p class="text-gray-600">Aumente sua presença online e atraia mais clientes com nossas estratégias de marketing digital.</p>
                                        <button class="mt-4 text-blue-600 font-medium">Saiba mais <i class="fas fa-arrow-right ml-1"></i></button>
                                    </div>
                                    
                                    <div class="border border-gray-200 rounded-lg p-6 hover:border-blue-500 transition">
                                        <div class="flex items-center mb-4">
                                            <div class="flex-shrink-0 bg-yellow-100 p-3 rounded-lg">
                                                <i class="fas fa-user-tie text-yellow-500 text-xl"></i>
                                            </div>
                                                <h5 class="ml-3 text-lg font-medium">
                                                    Consultoria Empresarial
                                                </h5>
                                            </div>
                                            <p class="text-gray-600">Conte com orientação estratégica para superar desafios e crescer de forma sustentável.</p>
                                            <button class="mt-4 text-blue-600 font-medium">Saiba mais <i class="fas fa-arrow-right ml-1"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // Seletores e variáveis principais
        const sections = document.querySelectorAll('.diagnostic-card');
        const nextButtons = document.querySelectorAll('.next-section-btn');
        const prevButtons = document.querySelectorAll('.prev-section-btn');
        const progressFill = document.getElementById('progress-fill');
        const progressPercentage = document.getElementById('progress-percentage');
        const currentSectionDisplay = document.getElementById('current-section');
        const finalizarBtn = document.querySelector('.enviar');
        let currentSection = 0;
        const totalSections = sections.length;
        let respostas = [];

        // Remove atributo required dos radios (validação será feita manualmente)
        document.querySelectorAll('input[type="radio"][required]').forEach(radio => {
            radio.removeAttribute('required');
        });

        // Inicializa a primeira seção
        function showSection(index) {
            sections.forEach((section, i) => {
                section.classList.toggle('hidden', i !== index);
            });
            // Atualiza barra de progresso
            const progress = Math.round((index / (totalSections - 1)) * 100);
            progressFill.style.width = `${progress}%`;
            progressPercentage.textContent = progress;
            currentSectionDisplay.textContent = index + 1;
        }
        showSection(0);

        // NOVA VALIDAÇÃO: pelo menos um campo preenchido na seção
        function peloMenosUmCampoPreenchido(section) {
            const inputs = section.querySelectorAll('input, textarea, select');
            let algumPreenchido = false;
            let nomesVerificados = new Set();
            for (let input of inputs) {
                if (input.type === 'radio') {
                    if (!nomesVerificados.has(input.name)) {
                        nomesVerificados.add(input.name);
                        const radios = section.querySelectorAll(`input[type="radio"][name="${input.name}"]`);
                        for (let r of radios) {
                            if (r.checked) {
                                algumPreenchido = true;
                                break;
                            }
                        }
                    }
                } else if (input.type === 'checkbox') {
                    if (input.checked) {
                        algumPreenchido = true;
                    }
                } else if (input.value && input.value.trim() !== '') {
                    algumPreenchido = true;
                }
                if (algumPreenchido) break;
            }
            return algumPreenchido;
        }

        // Coleta dados da seção atual
        function collectSectionData(section) {
            const data = {};
            const inputs = section.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                if (input.type === 'radio') {
                    if (input.checked) data[input.name] = input.value;
                } else if (input.type === 'checkbox') {
                    if (!data[input.name]) data[input.name] = [];
                    if (input.checked) data[input.name].push(input.value);
                } else {
                    data[input.name] = input.value;
                }
            });
            return data;
        }

        // Função para detectar dados inúteis (sequência de vogais/consoantes ou mistura ilógica)
        function dadoInutil(valor) {
            if (!valor || typeof valor !== 'string') return false;
            const soVogais = /^[aeiouáéíóúãõâêîôûàèìòù\s]+$/i;
            const soConsoantes = /^[bcdfghjklmnpqrstvwxyz\s]+$/i;
            if (valor.replace(/\s/g, '').length >= 3 && (soVogais.test(valor) || soConsoantes.test(valor))) {
                return true;
            }
            if (/[a-zA-Z]/.test(valor) && /\d/.test(valor)) {
                if (!/(\d{2,}\/\d{2,}|\d{2,}\.\d{2,}|\d{2,}-\d{2,})/.test(valor)) {
                    return true;
                }
            }
            if (/^(.)\1{2,}$/.test(valor.replace(/\s/g, ''))) {
                return true;
            }
            return false;
        }

        // Função para limpar dados inúteis em um objeto de respostas
        function limparDadosInuteis(obj) {
            if (!obj) return obj;
            const novo = {};
            for (const k in obj) {
                if (typeof obj[k] === 'string') {
                    novo[k] = dadoInutil(obj[k]) ? 'valor incorrespondente' : obj[k];
                } else if (Array.isArray(obj[k])) {
                    novo[k] = obj[k].map(v => (typeof v === 'string' && dadoInutil(v) ? 'valor incorrespondente' : v));
                } else {
                    novo[k] = obj[k];
                }
            }
            return novo;
        }

        // Avançar para próxima seção
        nextButtons.forEach((btn, idx) => {
            btn.addEventListener('click', () => {
                const section = sections[currentSection];
                if (!peloMenosUmCampoPreenchido(section)) {
                    alert('Preencha pelo menos um campo para avançar.');
                    return;
                }
                respostas[currentSection] = limparDadosInuteis(collectSectionData(section));
                if (currentSection < totalSections - 1) {
                    currentSection++;
                    showSection(currentSection);
                }
            });
        });

        // Voltar para seção anterior
        prevButtons.forEach((btn) => {
            btn.addEventListener('click', () => {
                if (currentSection > 0) {
                    currentSection--;
                    showSection(currentSection);
                }
            });
        });

        // Finalizar e mostrar diagnóstico
        if (finalizarBtn) {
            finalizarBtn.addEventListener('click', () => {
                // Sempre fecha o modal antes de mostrar resultados para garantir atualização
                document.getElementById('results-modal')?.classList.add('hidden');
                const section = sections[currentSection];
                if (!peloMenosUmCampoPreenchido(section)) {
                    alert('Preencha pelo menos um campo antes de finalizar.');
                    return;
                }
                respostas[currentSection] = limparDadosInuteis(collectSectionData(section));
                // Pequeno delay para garantir que o modal seja reaberto corretamente
                setTimeout(() => {
                    mostrarResultados();
                }, 100);
            });
        }

        // Função de análise inteligente dos dados
        function analisarEmpresa(respostas) {
            let positivo = 0, negativo = 0;
            let strengths = [], weaknesses = [], opportunities = [], threats = [];

            // Seção 1: identificação
            const setor = respostas[0]?.['business-sector'] || '';
            const tempo = respostas[0]?.['operation-time'] || '';
            const colaboradores = respostas[0]?.['employees'] || '';

            // Seção 2: conformidade legal
            if (respostas[1]) {
                if (respostas[1]['registered'] === 'yes') {
                    strengths.push('Empresa formalizada');
                    positivo++;
                } else if (respostas[1]['registered'] === 'no') {
                    weaknesses.push('Empresa não formalizada');
                    negativo++;
                }
                if (respostas[1]['has-nif'] === 'yes') {
                    strengths.push('Possui NIF');
                    positivo++;
                } else if (respostas[1]['has-nif'] === 'no') {
                    weaknesses.push('Não possui NIF');
                    negativo++;
                }
                if (respostas[1]['licenses'] === 'yes') {
                    strengths.push('Licenças em dia');
                    positivo++;
                } else if (['some', 'no', 'unknown'].includes(respostas[1]['licenses'])) {
                    weaknesses.push('Licenças pendentes');
                    negativo++;
                }
                if (respostas[1]['taxes'] === 'yes') {
                    strengths.push('Obrigações fiscais em dia');
                    positivo++;
                } else if (['no', 'partial'].includes(respostas[1]['taxes'])) {
                    weaknesses.push('Pendências fiscais');
                    negativo++;
                }
            }

            // Seção 3: SWOT
            if (respostas[2]) {
                if (respostas[2]['strengths'] && respostas[2]['strengths'] !== 'valor incorrespondente') strengths.push(respostas[2]['strengths']);
                if (respostas[2]['weaknesses'] && respostas[2]['weaknesses'] !== 'valor incorrespondente') weaknesses.push(respostas[2]['weaknesses']);
                if (respostas[2]['opportunities'] && respostas[2]['opportunities'] !== 'valor incorrespondente') opportunities.push(respostas[2]['opportunities']);
                if (respostas[2]['threats'] && respostas[2]['threats'] !== 'valor incorrespondente') threats.push(respostas[2]['threats']);
            }

            // Seção 4: modelo de negócio
            if (respostas[3]) {
                // Proposta de valor
                if (respostas[3]['value-proposition']) {
                    if (respostas[3]['value-proposition'] === 'valor incorrespondente' || respostas[3]['value-proposition'].trim() === '') {
                        weaknesses.push('Proposta de valor: valor incorrespondente');
                        negativo++;
                    } else {
                        strengths.push('Proposta de valor: ' + respostas[3]['value-proposition']);
                        positivo++;
                    }
                }
                // Segmento de clientes
                if (respostas[3]['customer-segments']) {
                    if (respostas[3]['customer-segments'] === 'valor incorrespondente' || respostas[3]['customer-segments'].trim() === '') {
                        weaknesses.push('Segmento de clientes: valor incorrespondente');
                        negativo++;
                    } else {
                        strengths.push('Segmento de clientes: ' + respostas[3]['customer-segments']);
                        positivo++;
                    }
                }
                // Canais de distribuição
                if (respostas[3]['channels[]'] && respostas[3]['channels[]'].length) {
                    const canais = respostas[3]['channels[]'].map(c => c === 'valor incorrespondente' ? 'valor incorrespondente' : c).join(', ');
                    if (canais.includes('valor incorrespondente')) {
                        weaknesses.push('Canais de distribuição: valor incorrespondente');
                        negativo++;
                    } else {
                        strengths.push('Canais de distribuição: ' + canais);
                        positivo++;
                    }
                }
                // Fontes de receita
                if (respostas[3]['revenue-streams']) {
                    if (respostas[3]['revenue-streams'] === 'valor incorrespondente' || respostas[3]['revenue-streams'].trim() === '') {
                        weaknesses.push('Fontes de receita: valor incorrespondente');
                        negativo++;
                    } else {
                        strengths.push('Fontes de receita: ' + respostas[3]['revenue-streams']);
                        positivo++;
                    }
                }
                // Estrutura de custos
                if (respostas[3]['cost-structure']) {
                    if (respostas[3]['cost-structure'] === 'valor incorrespondente' || respostas[3]['cost-structure'].trim() === '') {
                        weaknesses.push('Estrutura de custos: valor incorrespondente');
                        negativo++;
                    } else {
                        strengths.push('Estrutura de custos: ' + respostas[3]['cost-structure']);
                        positivo++;
                    }
                }
                // Relacionamento com clientes
                if (respostas[3]['customer-relationships']) {
                    if (respostas[3]['customer-relationships'] === 'valor incorrespondente' || respostas[3]['customer-relationships'].trim() === '') {
                        weaknesses.push('Relacionamento com clientes: valor incorrespondente');
                        negativo++;
                    } else {
                        strengths.push('Relacionamento com clientes: ' + respostas[3]['customer-relationships']);
                        positivo++;
                    }
                }
            }

            // Seção 5: finanças
            if (respostas[4]) {
                if (['software', 'spreadsheet'].includes(respostas[4]['financial-system'])) {
                    strengths.push('Controle financeiro estruturado');
                    positivo++;
                } else if (['manual', 'none'].includes(respostas[4]['financial-system'])) {
                    weaknesses.push('Controle financeiro fraco');
                    negativo++;
                }
                if (respostas[4]['cashflow-control'] === 'yes') {
                    strengths.push('Fluxo de caixa controlado');
                    positivo++;
                } else if (['partial', 'no'].includes(respostas[4]['cashflow-control'])) {
                    weaknesses.push('Fluxo de caixa descontrolado');
                    negativo++;
                }
                if (respostas[4]['debts']) {
                    if (respostas[4]['debts'] === 'valor incorrespondente' || respostas[4]['debts'].trim() !== '') {
                        weaknesses.push('Dívidas: ' + respostas[4]['debts']);
                        negativo++;
                    }
                }
                if (['yes', 'soon'].includes(respostas[4]['additional-capital'])) {
                    weaknesses.push('Necessidade de capital adicional');
                    negativo++;
                }
            }

            // Score simples
            const score = Math.max(0, Math.min(100, 60 + (positivo - negativo) * 10));
            const status = score >= 70 ? 'POSITIVO' : 'NEGATIVO';

            return {
                setor, tempo, colaboradores, strengths, weaknesses, opportunities, threats, score, status
            };
        }

        // Mostra o resultado no modal
        function mostrarResultados() {
            const analise = analisarEmpresa(respostas);

            // Resumo Executivo
            document.getElementById('summary-sector').textContent = analise.setor || 'Não informado';
            document.getElementById('summary-time').textContent = analise.tempo || 'Não informado';
            document.getElementById('summary-employees').textContent = analise.colaboradores || 'Não informado';
            document.getElementById('summary-strengths').innerHTML = analise.strengths.length
                ? `<ul>${analise.strengths.map(s => `<li>${s}</li>`).join('')}</ul>`
                : `<p>Sem pontos fortes identificados.</p>`;
            document.getElementById('summary-weaknesses').innerHTML = analise.weaknesses.length
                ? `<ul>${analise.weaknesses.map(s => `<li>${s}</li>`).join('')}</ul>`
                : `<p>Sem fraquezas identificadas.</p>`;
            document.getElementById('overall-score-bar').style.width = `${analise.score}%`;
            document.getElementById('overall-score').textContent = analise.score;
            document.getElementById('overall-score-text').innerHTML =
                `${analise.score}/100 - Diagnóstico <b>${analise.status}</b>: ${analise.status === 'POSITIVO'
                    ? 'Sua empresa apresenta boa estrutura, mas sempre há espaço para melhorias.'
                    : 'Sua empresa apresenta pontos críticos que precisam de atenção.'}`;

            // SWOT detalhada
            document.getElementById('detailed-strengths').innerHTML = analise.strengths.length
                ? analise.strengths.map(s => `<li>${s}</li>`).join('')
                : '<li>Sem pontos fortes informados.</li>';
            document.getElementById('detailed-weaknesses').innerHTML = analise.weaknesses.length
                ? analise.weaknesses.map(s => `<li>${s}</li>`).join('')
                : '<li>Sem fraquezas informadas.</li>';
            document.getElementById('detailed-opportunities').innerHTML = analise.opportunities.length
                ? analise.opportunities.map(s => `<li>${s}</li>`).join('')
                : '<li>Sem oportunidades informadas.</li>';
            document.getElementById('detailed-threats').innerHTML = analise.threats.length
                ? analise.threats.map(s => `<li>${s}</li>`).join('')
                : '<li>Sem ameaças informadas.</li>';

            // Recomendações
            if (document.getElementById('recommendations-content')) {
                document.getElementById('recommendations-content').innerHTML = analise.weaknesses.length
                    ? `<ul>${analise.weaknesses.map(w => `<li>Recomenda-se: ${w}</li>`).join('')}</ul>`
                    : '<p>Sem recomendações específicas.</p>';
            }

            // Plano de ação
            if (document.getElementById('action-plan-content')) {
                document.getElementById('action-plan-content').innerHTML = analise.weaknesses.length
                    ? `<ul>${analise.weaknesses.map(w => `<li>Elabore um plano para: ${w}</li>`).join('')}</ul>`
                    : '<p>Sem plano de ação necessário.</p>';
            }

            // Exibe o modal
            document.getElementById('results-modal').classList.remove('hidden');
        }

        // Fecha o modal
        document.getElementById('close-modal')?.addEventListener('click', () => {
            document.getElementById('results-modal')?.classList.add('hidden');
        });

        // Tabs de resultados
        window.openResultsTab = function(tabId) {
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('inactive');
            });
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) selectedTab.classList.add('active');
            const clickedButton = [...document.querySelectorAll('.tab-button')].find(btn =>
                btn.getAttribute('onclick')?.includes(tabId)
            );
            if (clickedButton) {
                clickedButton.classList.remove('inactive');
                clickedButton.classList.add('active');
            }
        };

        // CSS dinâmico das abas
        const style = document.createElement("style");
        style.textContent = `
            .tab-button {
                cursor: pointer;
                padding: 8px 12px;
                border-radius: 4px;
                font-weight: 500;
                display: flex;
                align-items: center;
                transition: background-color 0.3s ease;
            }
            .tab-button.active {
                background-color: #2563eb;
                color: white;
            }
            .tab-button.inactive {
                background-color: #f3f4f6;
                color: #374151;
            }
            .tab-button:hover {
                background-color: #e5e7eb;
            }
            .tab-content {
                display: none;
            }
            .tab-content.active {
                display: block;
            }
        `;
        document.head.appendChild(style);
    });
    </script>
</body>
</html>